<div class="mainContent">
    <div class="">
        <form action="" method="post">
            <select name="equipmentType" id="equipmentTypeSearch" class="form-control"
                    style="width: 24%; display: inline-block;">
                <option value="0" selected>所有设备类型</option>
            </select>
            <select name="equipmentBrand" id="equipmentBrandSearch" class="form-control"
                    style="width: 24%; display: inline-block;">
                <option value="0" selected>所有设备品牌</option>
            </select>
            <select name="equipmentModel" id="equipmentModelSearch" class="form-control"
                    style="width: 24%; display: inline-block;">
                <option value="0" selected>所有设备型号</option>
            </select>
            <select name="equipmentStatus" id="equipmentStatusSearch" class="form-control"
                    style="width: 24%; display: inline-block;">
                <option value="4" selected>所有非报废设备</option>
                <option value="2">暂存</option>
                <option value="1">借出</option>
                <option value="3">维修</option>
                <option value="0">报废</option>
            </select>
            <input name="equipmentName" id="equipmentNameSearch" size="25"
                   class="form-control placeholder-no-fix searchBox"
                   type="text" style="width: 32%;" autocomplete="off" placeholder="查找设备编号"/>
            <input name="equipmentMac" id="equipmentMacSearch" size="25"
                   class="form-control placeholder-no-fix searchBox"
                   type="text" style="width: 32%;" autocomplete="off" placeholder="查找设备mac码"/>
            <input name="equipmentSn" id="equipmentSnSearch" size="25" class="form-control placeholder-no-fix searchBox"
                   type="text" style="width: 32%;" autocomplete="off" placeholder="查找设备sn码"/>
            <button id="searchBut" type="button" class="btn blue">查询</button>
            <button id="createBut" type="button" class="btn green">新增</button>
            <span>
                操作模式：
                <input type="radio" name="mode" id="adminMode" value="0" checked/>
                <label for="adminMode">-管理</label>
                <input type="radio" name="mode" id="editMode" value="1"/>
                <label for="editMode">-编辑</label>
            </span>
        </form>
    </div>
    <div class="userTable" id="searchResult">
        <div class="userRow userHeader">
            <span class="userItem6-1">设备类型</span>
            <span class="userItem6-1">品牌型号</span>
            <span class="userItem6-1">设备编号</span>
            <span class="userItem6-1">存放地点</span>
            <span class="userItem6">操作</span>
        </div>
    </div>
    <div class="pageBox">
        <input type="hidden" id="pageNum"/>
    </div>
    <div class="mask"></div>
    <div id="equipmentInfo" class="dialogueBox">
        <div class="dialogueHeader">
            <span>设备信息</span>
            <span class="dialogueClose">
				<i class="fa fa-window-close"></i>
			</span>
        </div>
        <div class="dialogueBody">
            <form id="equipmentForm" class="needs-validation">
                <div class="formLine">
                    <div class="formDiv">
						<span>
							设备编号：<i>*</i>
						</span>
                        <input type="hidden" id="equipmentId" name="equipmentId"/>
                        <span>
							<input type="text" id="equipmentName" name="equipmentName" placeholder="设备编号"
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            设备类型：<i>*</i>
                        </span>
                        <span>
							<select name="equipmentType" id="equipmentType" class="form-control" required>
                            </select>
						</span>
                    </div>
                    <div class="formDiv">
                        <span>
                            设备品牌：<i>*</i>
                        </span>
                        <span>
							<select name="equipmentBrand" id="equipmentBrand" class="form-control" required>
                            </select>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            设备型号：<i>*</i>
                        </span>
                        <span>
							<select name="equipmentModel" id="equipmentModel" class="form-control" required>
                            </select>
						</span>
                    </div>
                    <div class="formDiv">
                        <span>
                            设备密级：<i>*</i>
                        </span>
                        <span>
							<select name="equipmentSecrecy" id="equipmentSecrecy" class="form-control" required>
                            </select>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            IP：
                        </span>
                        <span>
							<input type="number" id="ip3" placeholder="127" min="0" max="127" size="3"
                                   autocomplete="off"/>.
							<input type="number" id="ip2" placeholder="0" min="0" max="255" size="3"
                                   autocomplete="off"/>.
                            <input type="number" id="ip1" placeholder="0" min="0" max="255" size="3"
                                   autocomplete="off"/>.
                            <input type="number" id="ip0" placeholder="1" min="0" max="255" size="3"
                                   autocomplete="off"/>
                            <input type="hidden" id="equipmentIp" name="equipmentIp"/>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
						<span>
                            mac码：<i>*</i>
                        </span>
                        <span>
							<input type="text" id="equipmentMac" name="equipmentMac" placeholder="设备mac码"
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            sn码：<i>*</i>
                        </span>
                        <span>
                            <input type="text" id="equipmentSn" name="equipmentSn" placeholder="设备sn码"
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            入库原因：<i>*</i>
                        </span>
                        <span>
                            <select name="equipmentRegistrationReason" id="equipmentRegistrationReason"
                                    class="form-control" required>
                            </select>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            入库日期：<i>*</i>
                        </span>
                        <span>
                            <input type="date" id="equipmentRegistrationDate" name="equipmentRegistrationDate"
                                   placeholder="设备入库日期"
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                    <div class="formDiv">
                        <span>
                            入库备注：
                        </span>
                        <span>
                            <input type="text" id="equipmentRegistrationNote" name="equipmentRegistrationNote"
                                   placeholder="设备入库来源备注"
                                   class="form-control placeholder-no-fix" autocomplete="off"/>
						</span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>
                            备注：
                        </span>
                        <span>
                            <textarea id="equipmentNote" name="equipmentNote" placeholder="备注"
                                      class="form-control placeholder-no-fix" autocomplete="off">
                            </textarea>
						</span>
                    </div>
                </div>
            </form>
        </div>
        <div class="dialogueFooter">
            <button id="saveEquipment" type="button" class="btn blue">保存</button>
            <button id="closeEquipment" type="button" class="btn gray">取消</button>
        </div>
    </div>
    <div id="equipmentLog" class="dialogueBox">
        <div class="dialogueHeader">
            <span>设备管理信息</span>
            <span class="dialogueClose">
				<i class="fa fa-window-close"></i>
			</span>
        </div>
        <div class="dialogueBody">
            <form id="equipmentLogForm" class="needs-validation">
                <div class="formLine">
                    <div class="formDiv">
                        <span id="eT"></span>
                        <input type="hidden" id="logEquipment" name="logEquipment"/>
                        <span id="eBM"></span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv">
                        <span>编号：</span>
                        <span id="eN"></span>
                    </div>
                    <div class="formDiv">
                        <span>状态：</span>
                        <span id="eSt"></span>
                    </div>
                </div>
                <div class="formLine">
                    <div class="formDiv" id="eMDiv">
                        <span>mac：</span>
                        <span id="eM"></span>
                    </div>
                    <div class="formDiv" id="eSnDiv">
                        <span>sn：</span>
                        <span id="eSn"></span>
                    </div>
                    <div class="formDiv" id="eScDiv">
                        <span>密级：</span>
                        <span id="eSc"></span>
                    </div>
                </div>
                <div class="formLine">
                    <button id="lendEquipment" type="button" class="btn blue" onclick="addLog(0)">借出</button>
                    <button id="returnEquipment" type="button" class="btn blue" onclick="addLog(1)">归还</button>
                    <button id="repairEquipment" type="button" class="btn yellow" onclick="addLog(2)">报修</button>
                    <button id="abandonEquipment" type="button" class="btn red" onclick="addLog(3)">报废</button>
                    <button id="moveEquipment" type="button" class="btn green" onclick="addLog(4)">存放</button>
                    <button id="deleteEquipment" type="button" class="btn green" onclick="deleteEquipment()">销毁</button>
                </div>
                <div class="formLine addLog">
                    <div class="formDiv">
                        <span id="targetName"></span>
                        <span>
                            <input type="hidden" id="logStatus" name="logStatus"/>
							<input type="text" id="logTarget" name="logTarget" placeholder=""
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                    <div class="formDiv">
                        <span>
                            日期：<i>*</i>
                        </span>
                        <span>
                            <input type="date" id="logOperationDate" name="logOperationDate" placeholder="日期"
                                   class="form-control placeholder-no-fix" required autocomplete="off"/>
						</span>
                    </div>
                    <div class="formDiv">
                        <span>
                            经手人：
                        </span>
                        <span id="logUser"></span>
                    </div>
                </div>
                <div class="formLine addLog">
                    <button id="saveLog" type="button" class="btn blue">确定</button>
                    <button id="cancelLog" type="button" class="btn blue">取消</button>
                </div>
            </form>
        </div>
        <div class="dialogueFooter">
            <button id="closeEquipmentLog" type="button" class="btn gray">关闭</button>
        </div>
    </div>

    <script type="text/javascript">
        const equipmentStatusCode = ['报废', '借出', '暂存', '维修'];

        const logStatusCode = ['借出', '归还', '报修', '报废', '存放'];

        var mode = 0;

        var typeList;

        var currentType;

        $(":radio[name='mode']").click(function (target) {
            mode = $(target).val();
            if (mode == 0) {
                $("#searchResult button").html('管理');
            } else {
                $("#searchResult button").html('修改');
            }

        })

        $('#searchBut').click(function () {
            search(1);
        });

        $('#createBut').click(function () {
            edit(0);
        });

        function search(pageNum) {
            const url = 'equipment/search';
            $.getJSON(
                url,
                {
                    'pageNum': pageNum,
                    'pageSize': 25,
                    'equipmentType': $("#equipmentTypeSearch").val(),
                    'equipmentBrand': $("#equipmentBrandSearch").val(),
                    'equipmentModel': $("#equipmentModelSearch").val(),
                    'equipmentStatus': $("#equipmentStatusSearch").val(),
                    'typeName': $("#equipmentNameSearch").val(),
                    'equipmentMac': $("#equipmentMacSearch").val(),
                    'equipmentSn': $("#equipmentSnSearch").val()
                },
                function (data) {
                    setPage(data, $(".pageBox"), $("#pageNum"));
                    $("#searchResult .userHeader").nextAll().remove();
                    $.each(data.content, function (i, n) {
                        $("#searchResult").append('<div class="userRow"><span class="userItem6-1">'
                            + n.equipmentType
                            + '</span><span class="userItem6-1">'
                            + n.equipmentBrand + '&emsp;' + n.equipmentModel
                            + '</span><span class="userItem6-1">'
                            + n.logTarget
                            + '</span><span class="userItem6"><button type="button" class="btn blue" onclick="edit(\''
                            + n.equipmentId
                            + '\')">管理</button></span></div>');
                    });
                });
        }

        function edit(equipmentId) {
            if (equipmentId == 0) {
                formInit(0);
                dialogueOpen("equipmentInfo");
            } else if (mode == 1) {
                formInit(0);
                const url = 'equipment/info';
                $.getJSON(url, {
                    'equipmentId': equipmentId
                }, function (data) {
                    $("#equipmentId").val(data.equipmentId);
                    $("#equipmentType").val(data.equipmentType);
                    getCurrentType(data.equipmentType);
                    $("#equipmentBrand").val(data.equipmentBrand);
                    getModelList(data.equipmentBrand);
                    $("#equipmentModel").val(data.equipmentModel);
                    $("#equipmentSecrecy").val(data.equipmentSecrecy);
                    numToIp(data.equipmentIp, $("#ip0"), $("#ip1"), $("#ip2"), $("#ip3"));
                    $("#equipmentMac").val(data.equipmentMac);
                    $("#equipmentSn").val(data.equipmentSn);
                    $("#equipmentRegistrationReason").val(data.equipmentRegistrationReason);
                    $("#equipmentRegistrationDate").val(data.equipmentRegistrationDate);
                    $("#equipmentRegistrationNote").val(data.equipmentRegistrationNote);
                });
                dialogueOpen("equipmentInfo");
            } else if (mode == 0) {
                formInit(1);
                const url = 'equipment/admin';
                $.getJSON(url, {
                    'equipmentId': equipmentId
                }, function (data) {
                    $("#eT").html(data.typeName);
                    $("#eBM").html(data.brandName + "&emsp;" + data.modelName);
                    $("#eN").html(data.equipmentName);
                    $("#eSt").html(isNaN(data.equipmentStatus) ? "入库待定" : equipmentStatusCode[data.equipmentStatus]);
                    $("#eM").html(data.equipmentMac);
                    $("#eSn").html(data.equipmentSn);
                    $("#eSc").html(data.secrecyName);
                    $("#logEquipment").val(data.equipmentId);
                    initLogButton(data.equipmentStatus);
                    logList(data.equipmentId);
                });
                dialogueOpen("equipmentLog");
            }
        }

        $(".dialogueClose").click(function (target) {
            dialogueClose($(this).parent().parent().attr("id"));
        });

        $("#closeEquipment").click(function (target) {
            dialogueClose("equipmentInfo");
        });

        $("#saveEquipment").click(function (target) {
            $("form#equipmentForm").submit();
        });

        $("#closeEquipmentLog").click(function (target) {
            dialogueClose("equipmentLog");
        });

        $(function () {
            $("form#equipmentForm.needs-validation").validate({
                submitHandler: function (form) {
                    $("#equipmentIp").val(ipToNum($("#ip0").val(), $("#ip1").val(), $("#ip2").val(), $("#ip3").val()));
                    $(form).ajaxSubmit({
                        type: 'post',
                        url: "equipment/edit",
                        dataType: "json",
                        success: function (result) { //表单提交后更新页面显示的数据
                            dialogueClose("equipmentInfo");
                            search(1);
                            layer.msg(result.content, {
                                time: 2000
                            });
                        }
                    });
                }
            });
        });

        function getTypeList() {
            const url = 'equipment/type/list';
            $.getJSON(url, {
                'typeBrand': false,
                'typeModel': false,
                'typeSecrecy': false,
            }, function (data) {
                typeList = data;
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.typeId + "'>" + n.typeName + "</option>";
                    $("#equipmentTypeSearch").append(str);
                    $("#equipmentType").append(str);
                });
                getCurrentType($("#equipmentType").val());
            });
        }

        function getBrandSearchList(brandType) {
            const url = 'equipment/brand/list';
            $.getJSON(url, {
                'brandType': brandType
            }, function (data) {
                $("#equipmentBrandSearch option[value='0']").nextAll().remove();
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.brandId + "'>" + n.brandName + "</option>";
                    $("#equipmentBrandSearch").append(str);
                });
            });
        }

        function getModelSearchList(modelBrand) {
            const url = 'equipment/model/list';
            $.getJSON(url, {
                'modelBrand': modelBrand
            }, function (data) {
                $("#equipmentModelSearch option[value='0']").nextAll().remove();
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.modelId + "'>" + n.modelName + "</option>";
                    $("#equipmentModelSearch").append(str);
                });
            });
        }

        function getSecrecyList() {
            const url = 'equipment/secrecy/list';
            $.getJSON(url, function (data) {
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.secrecyId + "'>" + n.secrecyName + "</option>";
                    $("#equipmentSecrecySearch").append(str);
                    $("#equipmentSecrecy").append(str);
                });
            });
        }

        function getRegistrationReasonList() {
            const url = 'equipment/registrationReason/list';
            $.getJSON(url, function (data) {
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.registrationReasonId + "'>" + n.registrationReasonName + "</option>";
                    $("#equipmentRegistrationReasonSearch").append(str);
                    $("#equipmentRegistrationReason").append(str);
                });
            });
        }

        function getBrandList(brandType) {
            const url = 'equipment/brand/list';
            $.getJSON(url, {
                'brandType': brandType
            }, function (data) {
                $("#equipmentBrand").children().remove();
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.brandId + "'>" + n.brandName + "</option>";
                    $("#equipmentBrand").append(str);
                });
                if (currentType.typeModel) {
                    getModelList($("#equipmentBrand").val());
                }
            });
        }

        function getModelList(modelBrand) {
            const url = 'equipment/model/list';
            $.getJSON(url, {
                'modelBrand': modelBrand
            }, function (data) {
                $("#equipmentModel").children().remove();
                $.each(data, function (i, n) {
                    let str = "<option value='" + n.modelId + "'>" + n.modelName + "</option>";
                    $("#equipmentModel").append(str);
                });
            });
        }

        $("#equipmentTypeSearch").change(function () {
            $("#equipmentBrandSearch").val(0);
            if ($("#equipmentTypeSearch").val() != "0") {
                getBrandSearchList($("#equipmentTypeSearch").val());
            } else {
                $("#equipmentBrandSearch option[value='0']").nextAll().remove();
            }
        });

        $("#equipmentType").change(function () {
            getCurrentType($("#equipmentType").val());
        });

        function getCurrentType(typeId) {
            $.each(typeList, function (i, n) {
                if (n.typeId == typeId) {
                    currentType = n;
                }
            });
            let target = $("#equipmentBrand");
            if (currentType.typeBrand) {
                getBrandList(typeId);
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
            target = $("#equipmentModel");
            if (currentType.typeModel) {
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
            target = $("#equipmentSecrecy");
            if (currentType.typeSecrecy) {
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
            target = $("#equipmentIp");
            if (currentType.typeIp) {
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
            target = $("#equipmentMac");
            if (currentType.typeMac) {
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
            target = $("#equipmentSn");
            if (currentType.typeSn) {
                target.parent().parent().show();
                target.attr("disabled", false);
            } else {
                target.parent().parent().hide();
                target.attr("disabled", true);
            }
        }

        $("#equipmentBrandSearch").change(function () {
            $("#equipmentModelSearch").val(0);
            if ($("#equipmentBrandSearch").val() != "0") {
                getModelSearchList($("#equipmentBrandSearch").val());
            } else {
                $("#equipmentBrandSearch option[value='0']").nextAll().remove();
            }
        });

        $("#equipmentBrand").change(function () {
            getModelList($("#equipmentBrand").val());
        });

        function formInit(num) {
            if ("0" === num) {
                $("#equipmentForm").resetForm();
                let target = $("#equipmentBrand");
                target.parent().parent().hide();
                target.attr("disabled", true);
                target = $("#equipmentModel");
                target.parent().parent().hide();
                target.attr("disabled", true);
                target = $("#equipmentSecrecy");
                target.parent().parent().hide();
                target.attr("disabled", true);
                target = $("#equipmentIp");
                target.parent().parent().hide();
                target.attr("disabled", true);
                target = $("#equipmentMac");
                target.parent().parent().hide();
                target.attr("disabled", true);
                target = $("#equipmentSn");
                target.parent().parent().hide();
                target.attr("disabled", true);
            } else if ("1" === num) {
                $("#equipmentLogForm").resetForm();
                $("#eT").html("");
                $("#eBM").html("");
                $("#eN").html("");
                $("#eSt").html("");
                $("#eM").html("");
                $("#eSn").html("");
                $("#eSc").html("");
                $(".addLog").hide();
                $(".addLog").last().nextAll().remove();
            }
        }

        function initLogButton(equipmentStatus) {
            if (isNaN(equipmentStatus)) {
                $("#lendEquipment").show();
                $("#returnEquipment").show();
                $("#repairEquipment").show();
                $("#abandonEquipment").hide();
                $("#moveEquipment").show();
                $("#deleteEquipment").hide();
            } else if (equipmentStatus === 0) {
                $("#lendEquipment").hide();
                $("#returnEquipment").hide();
                $("#repairEquipment").hide();
                $("#abandonEquipment").hide();
                $("#moveEquipment").show();
                $("#deleteEquipment").show();
            } else if (equipmentStatus === 1) {
                $("#lendEquipment").hide();
                $("#returnEquipment").show();
                $("#repairEquipment").show();
                $("#abandonEquipment").show();
                $("#moveEquipment").hide();
                $("#deleteEquipment").hide();
            } else if (equipmentStatus === 2 || equipmentStatus === 3) {
                $("#lendEquipment").show();
                $("#returnEquipment").hide();
                $("#repairEquipment").show();
                $("#abandonEquipment").show();
                $("#moveEquipment").show();
                $("#deleteEquipment").hide();
            }
        }

        function userInit() {
            const url = 'user/me';
            $.getJSON(url, function (data) {
                $("#logUser").html(data.userName);
            });
        }

        function addLog(num) {
            $("#logStatus").val(num);
            if (num == 0) {
                $("#targetName").parent().show();
                $("#targetName").html("借出人：<i>*</i>");
                $("#logTarget").val("");
                $("#logTarget").attr("disabled", false);
                $("#logOperationDate").val("");
            } else if (num == 1 || num == 3 || num == 4) {
                $("#targetName").parent().show();
                $("#targetName").html("存放地：<i>*</i>");
                $("#logTarget").val("");
                $("#logTarget").attr("disabled", false);
                $("#logOperationDate").val("");
            } else if (num == 2) {
                $("#targetName").parent().hide();
                $("#logTarget").val("");
                $("#logTarget").attr("disabled", true);
                $("#logOperationDate").val("");
            }
            $(".addLog").show();
        }

        function deleteEquipment() {
            layer.confirm('确认销毁？', {
                btn: ['确认','取消']
            }, function() {
                const url = 'equipment/log/delete';
                $.getJSON(url, {
                    'equipmentId': $("#logEquipment").val()
                }, function (result) {
                    dialogueClose("equipmentLog");
                    search(1);
                    layer.msg(result.content, {
                        time: 2000
                    });
                });
                layer.close(layer.index);
            }, );
        }

        function logList(equipmentId) {
            const url = 'equipment/log/list';
            $.getJSON(url, {
                'logEquipment': equipmentId
            }, function (data) {
                $.each(data, function(i, n) {
                    let str = "<div class='formLine'><div class='formDiv'><span>"
                            + logStatusCode[n.logStatus] + "："
                            + "</span><span>"
                            + "日期：&emsp;" + n.logOperationDate + "<br>"
                            + n.logStatus == 0 ? "借出人：" + n.logTarget : (n.logStatus == 2 ? "" : "存放地：" + n.logTarget) + "<br>"
                            + "经手人：" + n.userName
                            + "</span></div></div>"
                });
            });
        }

        $("#saveLog").click(function () {
            $("form#equipmentLogForm").submit();
            $(".addLog").hide();
        });

        $(function () {
            $("form#equipmentLogForm.needs-validation").validate({
                submitHandler: function (form) {
                    $(form).ajaxSubmit({
                        type: 'post',
                        url: "equipment/log/save",
                        dataType: "json",
                        success: function (result) { //表单提交后更新页面显示的数据
                            edit($("#logEquipment").val());
                            layer.msg(result.content, {
                                time: 2000
                            });
                        }
                    });
                }
            });
        });

        $("#cancelLog").click(function () {
            $(".addLog").hide();
        });

        $(function () {
            search(1);
            getTypeList();
            getSecrecyList();
            getRegistrationReasonList();
            userInit();
            $("#index-page-title").html("设备管理");
            $("#current-page-title").html("设备管理");
        });
    </script>
</div>